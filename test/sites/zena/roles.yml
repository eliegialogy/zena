DEFAULTS:
  create_group:    public
  icon:            ""
  type:            VirtualClass

Letter:
  kpath:           NNL
  real_class:      Note
  prop:
    idx_text_high: "%Q{#{title} paper:#{paper}}"
    # We build a 'search' property that is indexed to do funky searching without
    # fulltext
    prop_eval:     "{'search' => %Q{#{title} paper:#{paper}}, 'search_mono' => %Q{#{paper} mono}}"
    icon:          '/images/page.png'

Post:
  kpath:           NNP
  real_class:      Note
  auto_create_discussion: yes

Reference:
  kpath:           NR
  real_class:      Node
  prop:
    idx_scope:     "{'reference' => 'references'}"

Contact:
  kpath:           NRC
  real_class:      Node
  prop:
    prop_eval:     "{'title' => \"#{first_name} #{name}\"}"
    idx_scope:     "{'reference' => 'references', 'contact' => 'project'}"

TestNode:
  kpath:           NPE
  real_class:      Page
  create_group:    admin

Tag:
  kpath:           NPT
  real_class:      Page
  prop:
    idx_scope:     "{'tag' => %w{project self}}"

Task:
  kpath:           N
  type:            Role

Original:
  kpath:           N
  type:            Role

Comment:
  kpath:           N
  type:            Role

Blog:
  kpath:           NPPB
  real_class:      Project
  prop:
    idx_class:       IdxProject
    idx_scope:       "{'blog' => 'self'}"
    idx_reverse_scope: "nodes in project"

Note:
  kpath:           NN
  real_class:      Note